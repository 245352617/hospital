数据库备份（192.168.241.100）
1. 相关脚本
* /home/backupdb.sh       备份数据库（全量备份）

``` shell
#!/bin/bash
DATEPATH=$(date "+%Y%m%d")
DATABASE="ECISTriage"
if [ ! -d "/var/log/backupdb" ]; then
        mkdir -p /var/log/backupdb
fi
if [ ! -f "/var/log/backupdb/${DATEPATH}.log" ]; then
        touch "/var/log/backupdb/${DATEPATH}.log"
fi

date "+%Y-%m-%d %H:%H:%S" >> /var/log/backupdb/${DATEPATH}.log
echo "-- Backup $DATABASE to /home/data/mssql/backup/triage_${DATEPATH}.bak" >> /var/log/backupdb/${DATEPATH}.log

docker exec mssql-server /opt/mssql-tools/bin/sqlcmd -S . -U sa -P DBA@samjan.com -Q "Backup Database $DATABASE To Disk='/var/opt/mssql/backup/triage_${DATEPATH}.bak'"
```

* /home/cleanbackup.sh    清理备份（超过14天自动删除）

```shell
find /home/data/mssql/backup/ -ctime +14 -type f -name *.bak -exec rm -f {} \;
```

2. crontab 定时任务

```crontab
0 0 * * * /home/backupdb.sh
0 0 * * * /home/cleanbackup.sh
```
每天0点定时进行全量备份；
每天0点定时执行清理14天之前的备份文件；

3. 备份日志

/var/log/backupdb